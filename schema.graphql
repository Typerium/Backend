# source: http://localhost:10000/graphql
# timestamp: Mon Jul 15 2019 10:14:57 GMT+0700 (GMT+07:00)

directive @login on OBJECT | FIELD_DEFINITION

type Album {
  id: ID!
  name: String!
  description: String
  timeMark: TimeMark!
}

enum Currency {
  TYPE
  GBP
}

type Image {
  id: ID!
  album: Album
  timeMark: TimeMark!
}

enum LoginAccount {
  FACEBOOK
}

type MarketPlaceImage {
  id: ID!
  image: Image!
  price: Float!
  currency: Currency!
  timeMark: TimeMark!
}

type Mutation {
  signUp(email: String!, userName: String, phone: String, password: String!): User!
  signIn(login: String!, password: String!): Tokens!
  signInByAccount(accountType: LoginAccount! = FACEBOOK): Tokens!
  resetPassword(email: String!): Boolean!
  saveImage(image: Upload!, album: ID): Image!
  publishToMarketPlace(imageId: ID!): MarketPlaceImage!
}

type Query {
  currentUser: User!
  albums: [Album!]
  images(limit: Int! = 10, offset: Int! = 0): [Image!]
  marketPlaceLots(limit: Int! = 10, offset: Int! = 0): [MarketPlaceImage!]
}

scalar Time

type TimeMark {
  createdAt: Time!
  updatedAt: Time!
}

type Tokens {
  type: String!
  accessToken: String!
  refreshToken: String!
  timeMark: TimeMark!
}

scalar Upload

type User {
  id: ID!
  email: String!
  userName: String
  phone: String
  timeMark: TimeMark!
}
